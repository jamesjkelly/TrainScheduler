 <!DOCTYPE html>
<html lang="en">
   <head>
      <title>fire base train scheduler</title>
      <!-- Required meta tags -->
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <!-- jQuery first, then Tether, then Bootstrap JS. -->
      <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
      <script type="text/javascript" src="./assets/javascript/app.js"></script>
      <!-- Bootstrap CSS -->
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
       <script src="https://www.gstatic.com/firebasejs/4.4.0/firebase.js"></script>
     
 
       <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.js"></script>
 
   </head>
   <body >
      <!-- Main jumbotron for a primary marketing message or call to action -->
      <div class="jumbotron">
         <div class="container" >
            <h1   >fire base train scheduler</h1>
         </div>
      </div>
      <div class="container" >
         <div class="row">
            <div class="col-md-12 train" style='border: 1px solid black; border-radius: 13px; padding:10px' >
               <h1>Current Train Schedule</h1>
               <table style="width:100%" id='trainTable'>
                  <tr>
                     <td style='width:20%'>Train Name</td>
                     <td style='width:20%'>    Destination</td>
                     <td style='width:20%'>    Frequency(min)</td>
                     <td style='width:20%'>   Next Arival    </td>
                     <td style='width:20%'>Minutes Away</td>
                  </tr>
               </table>
            </div>
         </div>
         <br />
         <div class="row">
            <div class="col-md-12 train" style='border: 1px solid black; border-radius: 13px; padding:10px' >
               <h2>Add Train</h2>
               <form id=#trainForm">
                  <label>Train Name</label> <br />
                  <input type='text' placeholder="Train Name" id='trainName'><br /><br />
                  <label>Destination</label> <br />
                  <input type='text' placeholder="Destination" id='destination'><br /><br />
                  <label>First Train Time (HH:mm - military time) 
                  00:00</label><br />
                  <input type='text' placeholder="00:00" id='trainTime'>
                  <br /><br />
                  <label>Frequency(min)</label><br />
                  <input type='text' placeholder="frequency" id='frequency'>
                  <br /><br />
                  <input id='getTrain' type="submit" value-"Submit" class="btn btn-primary"/>
              </</form>
            </div>
         </div>
      </div>
      <div id="footer">
         <div class="container text-center">
            <p > &copy; James J Kelly 2017</p>
         </div>
      </div>
      <!-- /container -->

 
       <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.js"></script>
 
<script src="https://www.gstatic.com/firebasejs/4.4.0/firebase.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyAHSFxOzo6ox37WJsDmNcX2BAbP322BvFo",
    authDomain: "jkmacman-092517-test.firebaseapp.com",
    databaseURL: "https://jkmacman-092517-test.firebaseio.com",
    projectId: "jkmacman-092517-test",
    storageBucket: "jkmacman-092517-test.appspot.com",
    messagingSenderId: "1097444539645"
  };
  

    firebase.initializeApp(config);

    // Create a variable to reference the database
    var database = firebase.database();
  
    // Initial Values
    var name = "";
    var email = "";
    var age = "";
    var comment = "";
   

    // Capture Button Click
    $("#getTrain").one("click", function() {
      // Don't refresh the page!
      event.preventDefault();

      // YOUR TASK!!!
      // Code in the logic for storing and retrieving the most recent user.
      // Don't forget to provide initial data to your Firebase database.
      name = $("#trainName").val().trim();
      email = $("#destination").val().trim();
      age = $("#trainTime").val().trim();
      comment = $("#frequency").val().trim();
      var today = new Date();


      database.ref().set({
        trainName: name,
        destination: email,
        trainTime: age,
        frequency: comment
      });

    });

    // Firebase watcher + initial loader HINT: .on("value")
    database.ref().on("value", function(snapshot) {

      // Log everything that's coming out of snapshot
      console.log(snapshot.val());
      console.log(snapshot.val().name);
      console.log(snapshot.val().email);
      console.log(snapshot.val().age);
      console.log(snapshot.val().comment);

      // Change the HTML to reflect

 $("#trainTable").append('<tr><td>' + snapshot.val().name + '</td><td>' + snapshot.val().email + '</td><td>' + snapshot.val().age + '</td><td>' + snapshot.val().comment + '</td><td>' + today + '</td></tr>');
     

 

      // Handle the errors
    }, function(errorObject) {
      console.log("Errors handled: " + errorObject.code);
    });
  </script>

   </body>
</html>
